var Validate=function(){"use strict";function l(e){e=e||{};s=e.onValid||function(){};o=e.onInValid||function(){};u=e.onSubmit||function(){this.submit()};a=e.testmode||false;r=false;i={};var t=e.formSelector||"form";var n=document.querySelectorAll(t);for(var f=0;f<n.length;f++){p.call(n[f],"submit",d);var l="Validate"+f;n[f].className=n[f].className===""?l:n[f].className+" "+l;i[l]={form:n[f]};c.call(n[f],l)}}function c(e){i[e].inputs={};var t=["input","select","textarea"];for(var n=0,r=t.length,s=[];n<r;n++){Array.prototype.push.apply(s,this.querySelectorAll(t[n]))}for(n=0,r=s.length;n<r;n++){var o=s[n].type;if(o!=="hidden"&&o!=="button"&&o!=="submit"&&o!=="radio"&&o!=="checkbox"){h.call(s[n],e,n)}}}function h(e,t){var n=this.getAttribute("data-validate-length");n=n?n.split(","):[0,50];var r=this.type==="select-one"?this[this.selectedIndex].value:this.value;var s=e+"-"+t;this.className=this.className===""?s:this.className+" "+s;i[e].inputs[s]={input:this,minlength:n[0],maxlength:n[1],type:this.getAttribute("data-validate-type"),required:this.getAttribute("data-validate-required")||false,valid:false,value:this.value};var o=this.type==="select-one"?"change":"keyup";p.call(this,o,m);p.call(this,"blur",m)}function p(e,t){var n=this;var r=function(){return t.apply(n,arguments)};this.addEventListener?this.addEventListener(e,r,false):this.attachEvent("on"+e,r)}function d(e){if(!r){e.preventDefault?e.preventDefault():e.returnValue=false}var s=this.className.match(/Validate\d+/);var o=i[s].inputs;r=true;for(var a in o){if(o[a].valid!==true){if(o[a].required){r=false}v.call(o[a].input,"block")}else{v.call(o[a].input,"none")}}if(r){for(a in o){v.call(o[a].input,"none");o[a].input.value=o[a].value=o[a].input.value.replace(n,"");if(o[a].input.getAttribute("data-validate-remove-html")!=="false"){o[a].input.value=o[a].value=o[a].input.value.replace(t,"")}}u.call(this,e)}r=false}function v(e){var t=this.getAttribute("id");document.querySelector("span[data-validate='"+t+"']").style.display=e}function m(e){f=e;var t=this.type==="select"?this[this.selectedIndex].value:this.value;b.call(this).input.value=t;g.call(this)}function g(){var t=b.call(this).input;var n=t.type;var r=t.minlength;var i=t.maxlength;var s=this.value.length;t.valid=n==="select"?this[this.selectedIndex].getAttribute("data-validate-select")==="true"?true:false:e[n].test(t.value)&&s>=r&&s<=i?true:false;t.valid?y.call(this,true):y.call(this,false)}function y(e){if(e){if(!/validated/.test(this.className)){this.className+=" validated"}v.call(this,"none");s.call(this,f)}else{this.className=this.className.replace(" validated","");o.call(this,f)}}function b(){var e=/Validate\d+\-\d+/;var t=/\d+\-\d+/;var n=this.className.match(e);var r=n[0].match(t);var s="Validate"+r[0].split("-")[0];return{forms:i[s],input:i[s].inputs[n[0]]}}var e={email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,name:/^[a-zA-Z-\s]+$/,password:/^[ A-Za-z0-9_@.<>\/#=&+*^;:\$£"!()%{}-]+$/,textarea:/^[ A-Za-z0-9_@.<>\/#=&+*^;:\$£"!()%{}-]+$/,url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/};var t=/(<([^>]+)>)/gi;var n=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script(\s+)?>/gi;var r;var i;var s;var o;var u;var a;var f;return function(){if(a){return{init:l,regex:e,tagsRegex:t,scriptRegex:n,onValidCallback:s,onValidSubmit:u,state:i,currentEvent:f,returnFormandInput:b,showHideMessage:v,isInputValid:y,isFormValid:r,validate:g,findInputs:c,storeInputs:h,addEventHandler:p,onChange:m,onFormSubmit:d}}else{return{init:l}}}}()