var Validate=function(){"use strict";function f(e){e=e||{};s=e.onValid||function(){};o=e.onInValid||function(){};u=e.onSubmit||function(){this.submit()};a=e.testmode||false;r=false;i={};var t=e.formSelector||"form";var n=document.querySelectorAll(t);for(var f=0;f<n.length;f++){h.call(n[f],n[f],"submit",p);var c="Validate"+f;n[f].className=n[f].className===""?c:n[f].className+" "+c;i[c]={form:n[f]};l.call(n[f],c)}}function l(e){i[e].inputs={};var t=["input","select","textarea"];for(var n=0,r=t.length,s=[];n<r;n++){Array.prototype.push.apply(s,this.querySelectorAll(t[n]))}for(n=0,r=s.length;n<r;n++){var o=s[n].type;if(o!=="hidden"&&o!=="button"&&o!=="submit"&&o!=="radio"&&o!=="checkbox"){c.call(s[n],e,n)}}}function c(e,t){var n=this.getAttribute("data-validate-length");n=n?n.split(","):[0,50];var r=this.type==="select-one"?this[this.selectedIndex].value:this.value;var s=e+"-"+t;this.className=this.className===""?s:this.className+" "+s;i[e].inputs[s]={input:this,minlength:n[0],maxlength:n[1],type:this.getAttribute("data-validate-type"),required:this.getAttribute("data-validate-required")||false,valid:false,value:this.value};var o=this.type==="select-one"?"change":"keyup";h.call(this,this,o,v);h.call(this,this,"blur",v)}function h(e,t,n){var r=function(){return n.apply(e,arguments)};e.addEventListener?e.addEventListener(t,r,false):e.attachEvent("on"+t,r)}function p(e){if(!r){e.preventDefault?e.preventDefault():e.returnValue=false}var s=this.className.match(/Validate\d+/);var o=i[s].inputs;r=true;for(var a in o){if(o[a].valid!==true){if(o[a].required){r=false}d.call(o[a].input,"block")}else{d.call(o[a].input,"none")}}if(r){for(a in o){d.call(o[a].input,"none");o[a].input.value=o[a].value=o[a].input.value.replace(n,"");if(o[a].input.getAttribute("data-validate-remove-html")!=="false"){o[a].input.value=o[a].value=o[a].input.value.replace(t,"")}}u.call(this,e)}r=false}function d(e){var t=this.getAttribute("id");document.querySelector("span[data-validate='"+t+"']").style.display=e}function v(e){var t=this.type==="select"?this[this.selectedIndex].value:this.value;y.call(this).input.value=t;m.call(this,e)}function m(t){var n=y.call(this).input;var r=n.type;var i=n.minlength;var s=n.maxlength;var o=this.value.length;n.valid=r==="select"?this[this.selectedIndex].getAttribute("data-validate-select")==="true"?true:false:e[r].test(n.value)&&o>=i&&o<=s?true:false;n.valid?g.call(this,t,true):g.call(this,t,false)}function g(e,t){if(t){if(!/validated/.test(this.className)){this.className+=" validated"}d.call(this,"none");s.call(this,e)}else{this.className=this.className.replace(" validated","");o.call(this,e)}}function y(){var e=/Validate\d+\-\d+/;var t=/\d+\-\d+/;var n=this.className.match(e);var r=n[0].match(t);var s="Validate"+r[0].split("-")[0];return{input:i[s].inputs[n[0]]}}var e={email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,name:/^[a-zA-Z-\s]+$/,password:/^[ A-Za-z0-9_@.<>\/#=&+*^;:\$£"!\?()%{}-]+$/,textarea:/^[ A-Za-z0-9_@.<>\/#=&+*^;:\$£"\?!()%{}-]+$/,url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/};var t=/(<([^>]+)>)/gi;var n=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script(\s+)?>/gi;var r;var i;var s;var o;var u;var a;return function(){if(a){return{init:f,regex:e,tagsRegex:t,scriptRegex:n,onValidCallback:s,onValidSubmit:u,state:i,returnInput:y,showHideMessage:d,isInputValid:g,isFormValid:r,validate:m,findInputs:l,storeInputs:c,addEventHandler:h,onChange:v,onFormSubmit:p}}else{return{init:f}}}}()